<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Ubuntu常用指令"><meta name="keywords" content="linux,常用指令,shell"><meta name="author" content="pangzibo243"><meta name="copyright" content="pangzibo243"><title>Ubuntu常用指令 | pangzibo243's blog</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Ubuntu常用指令"><span class="toc-text">Ubuntu常用指令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#su和sudo：得到root权限"><span class="toc-text">su和sudo：得到root权限</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#apt和dpkg：用于安装软件包"><span class="toc-text">apt和dpkg：用于安装软件包</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#pip：用于安装python模块（不是linux里的默认指令，需自行安装sudo-apt-get-install-pip）"><span class="toc-text">pip：用于安装python模块（不是linux里的默认指令，需自行安装sudo apt-get install pip）</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ssh和scp：用于主机间的通信"><span class="toc-text">ssh和scp：用于主机间的通信</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#zip-unzip-tar-rar-unrar：压缩和解压"><span class="toc-text">zip,unzip,tar,rar,unrar：压缩和解压</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#du和df：查看磁盘的存储占用和查看文件系统的存储占用"><span class="toc-text">du和df：查看磁盘的存储占用和查看文件系统的存储占用</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#which-whereis-locate-find：查找命令"><span class="toc-text">which,whereis,locate,find：查找命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文件权限"><span class="toc-text">文件权限</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文件和文本操作"><span class="toc-text">文件和文本操作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#进程"><span class="toc-text">进程</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#网络"><span class="toc-text">网络</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#查看电脑配置"><span class="toc-text">查看电脑配置</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vim简单操作"><span class="toc-text">vim简单操作</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#其他"><span class="toc-text">其他</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考"><span class="toc-text">参考</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="https://raw.githubusercontent.com/litianbo243/litianbo243.github.io/master/images/my_faceQ.png"></div><div class="author-info__name text-center">pangzibo243</div><div class="author-info__description text-center">pangzibo243's blog</div><div class="follow-button"><a href="https://github.com/litianbo243">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">36</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">34</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">9</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://raw.githubusercontent.com/litianbo243/litianbo243.github.io/master/images/chen_sir_1.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">pangzibo243's blog</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">Ubuntu常用指令</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-08-05</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/linux/">linux</a></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h1 id="Ubuntu常用指令"><a href="#Ubuntu常用指令" class="headerlink" title="Ubuntu常用指令"></a>Ubuntu常用指令</h1><p>石墨版: <a href="https://shimo.im/docs/OWWDwAuWUC8pDPxu" target="_blank" rel="noopener">Ubuntu指南</a>.</p>
<h1 id="su和sudo：得到root权限"><a href="#su和sudo：得到root权限" class="headerlink" title="su和sudo：得到root权限"></a>su和sudo：得到root权限</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo passwd [root]  <span class="comment"># 设定root密码</span></span><br><span class="line">su [root]  <span class="comment"># 切换到root用户</span></span><br><span class="line">sudo COMMAND  <span class="comment"># 切换到root用户，执行COMMAND，然后切换回当前用户</span></span><br><span class="line">su USER  <span class="comment"># 切换回普通用户USER</span></span><br></pre></td></tr></table></figure>
<h1 id="apt和dpkg：用于安装软件包"><a href="#apt和dpkg：用于安装软件包" class="headerlink" title="apt和dpkg：用于安装软件包"></a>apt和dpkg：用于安装软件包</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt list  <span class="comment"># 根据名称列出软件包</span></span><br><span class="line">apt show PACKAGE <span class="comment"># 显示软件包细节</span></span><br><span class="line">sudo apt-get install PACKAGE  <span class="comment"># 安装软件包</span></span><br><span class="line">sudo apt-get remove PACKAGE  <span class="comment"># 卸载软件包</span></span><br><span class="line">sudo apt-get check PACKAGE  <span class="comment"># 检查依赖</span></span><br><span class="line">sudo apt-get update  <span class="comment"># 更新可用软件包列表</span></span><br><span class="line">sudo apt upgrade  <span class="comment"># 通过升级来更新系统</span></span><br><span class="line">sudo apt-get install -f  <span class="comment"># 修复依赖</span></span><br><span class="line"></span><br><span class="line">sudo dpkg -i xxx.deb  <span class="comment"># 运行deb程序进行安装</span></span><br></pre></td></tr></table></figure>
<h1 id="pip：用于安装python模块（不是linux里的默认指令，需自行安装sudo-apt-get-install-pip）"><a href="#pip：用于安装python模块（不是linux里的默认指令，需自行安装sudo-apt-get-install-pip）" class="headerlink" title="pip：用于安装python模块（不是linux里的默认指令，需自行安装sudo apt-get install pip）"></a>pip：用于安装python模块（不是linux里的默认指令，需自行安装sudo apt-get install pip）</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install python3-pip  <span class="comment"># 安装python3下的pip</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新pip到指定版本</span></span><br><span class="line">python3 -m pip install --user --upgrade pip==9.0.3  <span class="comment"># (换成你想要的版本编号)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pip临时加速</span></span><br><span class="line">pip 加参数-i https://pypi.tuna.tsinghua.edu.cn/simple </span><br><span class="line"></span><br><span class="line"><span class="comment"># pip永久加速</span></span><br><span class="line"><span class="comment"># Linux下，修改 ~/.pip/pip.conf (没有就创建一个文件夹及文件。文件夹要加“.”，表示是隐藏文件夹)</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">[global]</span></span><br><span class="line"><span class="string">index-url = https://pypi.tuna.tsinghua.edu.cn/simple</span></span><br><span class="line"><span class="string">[install]</span></span><br><span class="line"><span class="string">trusted-host=mirrors.aliyun.com</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># windows下，直接在user目录中创建一个pip目录，如：C:\Users\xx\pip，新建文件pip.ini。内容同上。</span></span><br><span class="line"></span><br><span class="line">pip install PACKAGE  <span class="comment"># 安装包</span></span><br><span class="line">pip uninstall PACKAGE  <span class="comment"># 卸载包</span></span><br><span class="line">pip search PACKAGE  <span class="comment"># 搜索能安装的包</span></span><br><span class="line">pip list  <span class="comment"># 例出所有的已安装的包</span></span><br><span class="line">pip show PACKAGE  <span class="comment"># 展示已安装包的信息，可以指定单个包名展示  </span></span><br><span class="line">pip check PACKAGE  <span class="comment"># 检查依赖</span></span><br><span class="line">pip --version  <span class="comment"># 显示pip版本和位置</span></span><br><span class="line">pip <span class="built_in">help</span>  <span class="comment"># 查看帮助</span></span><br><span class="line">pip <span class="built_in">help</span> install  <span class="comment"># 查看install指令的相关option介绍</span></span><br></pre></td></tr></table></figure>
<h1 id="ssh和scp：用于主机间的通信"><a href="#ssh和scp：用于主机间的通信" class="headerlink" title="ssh和scp：用于主机间的通信"></a>ssh和scp：用于主机间的通信</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh USERNAME@IP -p PORTNUM  <span class="comment"># 远程登录到主机</span></span><br><span class="line">scp LOCAL_FILE USERNAME@IP:REMOTE_DIRECTORY  <span class="comment"># 复制本地文件到远程主机</span></span><br><span class="line">scp -r LOCAL_FILE USERNAME@IP:REMOTE_DIRECTORY  <span class="comment"># 复制本地文件夹到远程主机</span></span><br><span class="line">sudo ufw dissable  <span class="comment"># 关闭防火墙</span></span><br><span class="line">sudo ufw <span class="built_in">enable</span>  <span class="comment"># 开启防火墙</span></span><br><span class="line"></span><br><span class="line">sudo apt-get install vsftpd  <span class="comment"># 安装sftp</span></span><br><span class="line">service vsftpd starrt  <span class="comment"># 启用sftp</span></span><br></pre></td></tr></table></figure>
<h1 id="zip-unzip-tar-rar-unrar：压缩和解压"><a href="#zip-unzip-tar-rar-unrar：压缩和解压" class="headerlink" title="zip,unzip,tar,rar,unrar：压缩和解压"></a>zip,unzip,tar,rar,unrar：压缩和解压</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gzip  <span class="comment"># gzip是Linux使用最广的压缩指令</span></span><br><span class="line">gzip [-cdtv<span class="comment">#] FILENAME</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-c ：将压缩的数据输出到屏幕上</span></span><br><span class="line"><span class="string">-d ：解压缩</span></span><br><span class="line"><span class="string">-t ：检验压缩文件是否出错</span></span><br><span class="line"><span class="string">-v ：显示压缩比等信息</span></span><br><span class="line"><span class="string">-# ： # 为数字的意思，代表压缩等级，数字越大压缩比越高，默认为 6</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">bzip2  <span class="comment"># 提供比gzip更高的压缩比</span></span><br><span class="line">bzip2 [-cdkzv<span class="comment">#] FILENAME</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-k ：保留源文件</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">xz2  <span class="comment"># 提供比bzip2更佳的压缩比</span></span><br><span class="line">xz [-dtlkc<span class="comment">#] FILENAME</span></span><br><span class="line"></span><br><span class="line">tar  压缩打包</span><br><span class="line">tar [-z|-j|-J][cv][-f NEW_TAR_FILE] FILE  <span class="comment"># 打包压缩</span></span><br><span class="line">tar [-z|-j|-J][tv][-f TAR_FILE]  <span class="comment"># 查看</span></span><br><span class="line">tar [-z|-j|-J][xv][-f TAR_FILE] [-C DIR]  <span class="comment"># 解压</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-z ：使用 zip</span></span><br><span class="line"><span class="string">-j ：使用 bzip2</span></span><br><span class="line"><span class="string">-J ：使用 xz</span></span><br><span class="line"><span class="string">-c ：新建打包文件</span></span><br><span class="line"><span class="string">-t ：查看打包文件里面有哪些文件</span></span><br><span class="line"><span class="string">-x ：解打包或解压缩的功能</span></span><br><span class="line"><span class="string">-v ：在压缩/解压缩的过程中，显示正在处理的文件名</span></span><br><span class="line"><span class="string">-f : filename：要处理的文件</span></span><br><span class="line"><span class="string">-C DIR ： 在特定目录解压缩</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 例1</span></span><br><span class="line">tar -jcv -f file.tar.bz2 file  <span class="comment"># 压缩</span></span><br><span class="line">tar -jxv -f file.tar.bz2 -C ./file  <span class="comment"># 解压</span></span><br><span class="line">tar -zcv -f dir.tar.gz dir1 dir2 ... <span class="comment"># 多个文件压缩</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 例2</span></span><br><span class="line">tar -zcv file | split -b 4000M -d -a 1 - file.tar.gz.  <span class="comment"># 压缩成多个压缩包</span></span><br><span class="line"><span class="comment"># 使用split命令</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-b 4000M 表示设置每个分割包的大小，单位还是可以k</span></span><br><span class="line"><span class="string">-d 参数指定生成的分割包后缀为数字的形式</span></span><br><span class="line"><span class="string">-a x来设定序列的长度(默认值是2)</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">cat file.tar.gz.* | tar -zxv file  多个压缩包解压</span><br></pre></td></tr></table></figure>
<h1 id="du和df：查看磁盘的存储占用和查看文件系统的存储占用"><a href="#du和df：查看磁盘的存储占用和查看文件系统的存储占用" class="headerlink" title="du和df：查看磁盘的存储占用和查看文件系统的存储占用"></a>du和df：查看磁盘的存储占用和查看文件系统的存储占用</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">du -s  <span class="comment"># 仅显示总计，只列出最后加的总值</span></span><br><span class="line">du -c  <span class="comment"># 除了显示个别文件或目录的大小外，还显示一行目录和文件的总和大小</span></span><br><span class="line">du -h  <span class="comment"># 以k,m,g为单位，提高信息的可读性</span></span><br><span class="line">du --max-depth=1  <span class="comment"># 查看当前目录所有（一级）文件的大小</span></span><br><span class="line">du -sh *.mkv  <span class="comment"># 显示每个mkv文件的大小</span></span><br><span class="line">du -csh *.mkv  <span class="comment"># 显示每个mkv文件的大小和总和</span></span><br><span class="line"></span><br><span class="line">df -h  <span class="comment"># 以k,m,g为单位，提高信息的可读性</span></span><br><span class="line">df -T  <span class="comment"># 显示文件系统的类型</span></span><br></pre></td></tr></table></figure>
<h1 id="which-whereis-locate-find：查找命令"><a href="#which-whereis-locate-find：查找命令" class="headerlink" title="which,whereis,locate,find：查找命令"></a>which,whereis,locate,find：查找命令</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#which在PATH变量制定的路径中，搜索某个系统命令的位置，并返回第一个搜索结果</span></span><br><span class="line"><span class="comment">#whereis只能用于程序名的搜索，而且只能搜索二进制文件（-b），man说明文件（-m），源代码文件（-s）。若省略，则返回所有信息</span></span><br><span class="line"><span class="comment">#locate配合数据库查看文件位置。linux会将系统内所有文件记录在一个数据库文件中，电视该数据库并不是实时更新</span></span><br><span class="line"><span class="comment">#find实际搜寻硬盘查询文件名称</span></span><br><span class="line"></span><br><span class="line">find . -name <span class="string">"*.conf"</span>  当前目录查找扩展名为.conf的文件</span><br><span class="line">updatedb  更新数据库</span><br><span class="line">locate STRING  快速查找系统数据库中指定的内容</span><br><span class="line"><span class="built_in">which</span> python  查询python</span><br><span class="line">whereis python  查询python</span><br></pre></td></tr></table></figure>
<h1 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod [ugoa][+-=][rwx] FILE|DIR  <span class="comment"># 改变指定目录或文件的权限</span></span><br><span class="line"><span class="comment"># u代表该文件所有者，g代表该文件所有者的同组用户，o代表其他，a表示这三者皆是</span></span><br><span class="line"><span class="comment"># r可读，w可写，x可执行</span></span><br><span class="line">chomd u+x <span class="built_in">test</span>  <span class="comment"># 该文件的所有者增加可执行的权限</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用数字表示，规定r=4,w=2,x=1</span></span><br><span class="line">chmod 777 file  <span class="comment"># 三种用户都赋予可读可写可执行的权限</span></span><br><span class="line">chown -R 用户名[:组名] 文件名或目录  <span class="comment"># 改变指定目录或文件的所属用户，-R代表递归地改变目录下的所有文件</span></span><br></pre></td></tr></table></figure>
<h1 id="文件和文本操作"><a href="#文件和文本操作" class="headerlink" title="文件和文本操作"></a>文件和文本操作</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ls [-adl] FILE|DIR <span class="comment"># 列出文件或者目录信息</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-a ：列出全部的文件</span></span><br><span class="line"><span class="string">-d ：仅列出目录本身</span></span><br><span class="line"><span class="string">-l ：以长数据串行列出，包含文件的属性与权限等等数据</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> DIR <span class="comment"># 更换当前路径</span></span><br><span class="line"></span><br><span class="line">mkdir [-mp] DIR <span class="comment"># 创建目录</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-m ：配置目录权限</span></span><br><span class="line"><span class="string">-p ：递归创建目录</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">rmdir [-p] DIR <span class="comment"># 删除目录，目录必须为空</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-p ：递归删除目录</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">touch [-acdmt] FILENAME <span class="comment"># 更新文件时间或者建立新文件</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-a ： 更新 atime</span></span><br><span class="line"><span class="string">-c ： 更新 ctime，若该文件不存在则不建立新文件</span></span><br><span class="line"><span class="string">-m ： 更新 mtime</span></span><br><span class="line"><span class="string">-d ： 后面可以接更新日期而不使用当前日期，也可以使用 --date="</span>日期或时间<span class="string">"</span></span><br><span class="line"><span class="string">-t ： 后面可以接更新时间而不使用当前时间，格式为[YYYYMMDDhhmm]</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">cp [-adfilprsu] SOURCE DESTINATION <span class="comment"># 复制文件</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-d ：若来源文件为链接文件，则复制链接文件属性而非文件本身</span></span><br><span class="line"><span class="string">-i ：若目标文件已经存在时，在覆盖前会先询问</span></span><br><span class="line"><span class="string">-p ：连同文件的属性一起复制过去</span></span><br><span class="line"><span class="string">-r ：递归持续复制</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">rm [-fir] FILE|DIR <span class="comment"># 删除文件或者目录</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-r ：递归删除</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">mv [-fiu] SOURCE DESTINATION <span class="comment"># 移动文件</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-f ： force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">ln [-sf] SOURCE DESTINATION <span class="comment"># 创建链接</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-s ：默认是 hard link，加 -s 为 symbolic link</span></span><br><span class="line"><span class="string">-f ：如果目标文件存在时，先删除目标文件</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">cat [-n] FILENAME <span class="comment"># 获取文件内容</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">-n ：打印出行号，连同空白行也会有行号，-b 不会</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line">grep str /tmp/<span class="built_in">test</span> <span class="comment"># 在文件/tmp/test中查找str</span></span><br><span class="line">grep ^str /tmp/<span class="built_in">test</span> <span class="comment"># 在文件/tmp/test中查找以str开始的行</span></span><br><span class="line"></span><br><span class="line">ls -ld */ <span class="comment"># 显示当前目录的所有目录文件</span></span><br><span class="line">ls -l | grep <span class="string">'^d'</span> <span class="comment"># 显示当前目录的所有目录文件</span></span><br><span class="line"></span><br><span class="line">wc -l <span class="comment"># 统计文件行数</span></span><br><span class="line">wc -w <span class="comment"># 统计单词数量</span></span><br><span class="line"></span><br><span class="line">ls -l | wc -l <span class="comment"># 统计当前目前的文件数量，注意要减去“总用量”那一行</span></span><br><span class="line"></span><br><span class="line">cp -a dir1 dir2 <span class="comment"># 复制目录</span></span><br><span class="line">mv dir1 dir2 <span class="comment"># 移动/重命名目录</span></span><br><span class="line">mkdir -p /tmp/dir1/dir2 <span class="comment"># 创建一个目录树</span></span><br><span class="line">rm -f file1 <span class="comment"># 删除文件</span></span><br><span class="line">rm -rf dir1 <span class="comment"># 删除目录</span></span><br><span class="line"></span><br><span class="line">ln -s /real_file /soft_link <span class="comment"># 创建软链接</span></span><br></pre></td></tr></table></figure>
<h1 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps -e  <span class="comment"># 显示所有进程</span></span><br><span class="line">ps -f  <span class="comment"># 全格式显示进程</span></span><br><span class="line">ps -u <span class="string">'liaohuqiang'</span> | grep <span class="string">'tmux'</span> <span class="comment"># 显示指定用户执行的进程，并匹配出包含'tmux'的那一行进程</span></span><br><span class="line">ps -ef | grep <span class="string">'python'</span> | grep -v grep  <span class="comment"># 把grep命令排除掉</span></span><br><span class="line">ps -ef | grep <span class="string">'python'</span> | grep -v grep  | awk <span class="string">'&#123;print $2&#125;'</span>  <span class="comment"># 提取进程号</span></span><br><span class="line"></span><br><span class="line">pstree -A <span class="comment">#查看进程树</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">kill</span> -2 PID  <span class="comment"># 类似ctrl+C，在程序结束之前能够保存相关数据，再退出</span></span><br><span class="line"><span class="built_in">kill</span> -9 PID  <span class="comment"># 直接强制结束进程</span></span><br><span class="line"></span><br><span class="line">reboot  <span class="comment"># 重启</span></span><br><span class="line">shutdown -r now  <span class="comment"># 立刻重启</span></span><br><span class="line">shutdown -r 30  <span class="comment"># 30分钟后重启</span></span><br><span class="line">shutdown -r 23:00  <span class="comment"># 晚上11点重启</span></span><br><span class="line"></span><br><span class="line">halt  <span class="comment"># 立刻关机</span></span><br><span class="line">poweroff  <span class="comment"># 立刻关机</span></span><br><span class="line">shutdown -h now  <span class="comment"># 立刻关机</span></span><br><span class="line">shutdown -h 30  <span class="comment"># 30分钟后关机</span></span><br><span class="line"></span><br><span class="line">shutdown -c  <span class="comment"># 取消shutdwon的重启或关机</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">command</span> &amp;  <span class="comment"># 使指令成为后台任务</span></span><br><span class="line">nohup  <span class="comment"># 不挂断地运行命令，通常和&amp;一起用，输出将附加到目录的nohup.out</span></span><br><span class="line"><span class="built_in">jobs</span> -l  <span class="comment"># 列出任务列表，l表示显示进程号（只查看当前终端的，关闭终端后无法看到）</span></span><br><span class="line"><span class="built_in">fg</span>  <span class="comment"># 把最近一个job切换到前台</span></span><br><span class="line"><span class="built_in">fg</span> n  <span class="comment"># 把某个job切换到前台</span></span><br><span class="line">ctrl z  <span class="comment"># 挂起某个前台进程</span></span><br><span class="line"><span class="built_in">bg</span>  <span class="comment"># 把作业放到后台运行</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">top  <span class="comment"># 动态显示进程信息</span></span><br><span class="line">top -i  <span class="comment"># 不显示任何闲置或无用的进程</span></span><br><span class="line"><span class="string">""</span><span class="string">"</span></span><br><span class="line"><span class="string">k  杀死某进程</span></span><br><span class="line"><span class="string">n  改变显示的进程数量</span></span><br><span class="line"><span class="string">u  显示指定用户</span></span><br><span class="line"><span class="string">P  按CPU使用情况排序</span></span><br><span class="line"><span class="string">q  退出</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lscpu  <span class="comment"># 查看cpu信息概要</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 监视cpu</span></span><br><span class="line"><span class="comment"># 先安装matstat</span></span><br><span class="line">sudo apt install sysstat</span><br><span class="line"><span class="comment"># 每两秒查看一次</span></span><br><span class="line">mpstat  -P ALL 2</span><br></pre></td></tr></table></figure>
<h1 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">netstat  # 显示网络情况</span><br><span class="line">netstat -a  # 列出所有端口</span><br><span class="line">netstat -l  # 只显示监听端口</span><br><span class="line">netstat -t  # 列出所有tcp端口</span><br><span class="line">netstat -p  # 显示使用该端口的pid和程序名称</span><br><span class="line">netstat -n  # 直接使用ip地址，不通过域名服务器</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 找出程序运行的端口 </span></span><br><span class="line">netstat -anp | grep ssh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 找出运行在指定端口的进程 </span></span><br><span class="line">netstat -anp | grep ':80'</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ifconfig  # 查看网卡信息</span><br></pre></td></tr></table></figure>
<h1 id="查看电脑配置"><a href="#查看电脑配置" class="headerlink" title="查看电脑配置"></a>查看电脑配置</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">free -m   <span class="comment"># 查看内存使用情况</span></span><br><span class="line">df  <span class="comment"># 查看磁盘使用情况</span></span><br><span class="line">cat /proc/cpuinfo  <span class="comment"># 查看cpu信息</span></span><br><span class="line">lspci | grep VGA  <span class="comment"># 查看显卡</span></span><br><span class="line">nvidia-smi  <span class="comment"># 查看英伟达系列显卡的使用情况</span></span><br><span class="line">nvidia-smi -L 　<span class="comment"># 查看显卡型号</span></span><br><span class="line">watch -n 1 -d nvidia-smi  <span class="comment"># 实时监控nvidia-smi，每隔一秒刷新一次，d表示高亮 </span></span><br><span class="line">cat /proc/driver/nvidia/version  <span class="comment"># 查看显卡驱动</span></span><br><span class="line">cat /etc/issue  <span class="comment"># 查看ubuntu版本</span></span><br></pre></td></tr></table></figure>
<h1 id="vim简单操作"><a href="#vim简单操作" class="headerlink" title="vim简单操作"></a>vim简单操作</h1><p>vim可以分为三种模式：<strong>命令模式（Command mode）</strong>、<strong>插入模式（Insert mode）</strong>和<strong>底线命令模式（Last line mode）</strong><br><strong>Comand mode</strong>：控制屏幕光标的移动，字符或光标的删除，移动复制某区段及进入Insert mode下，或者到Last line mode。<br><strong>Insert mode</strong>：唯有在Insert mode下，才可做文字数据输入，按Esc等可回到Comand mode。<br><strong>Last line mode</strong>：将储存文件或离开编辑器，也可设置编辑环境，如寻找字符串、列出行号等。</p>
<p>在Command mode下按‘<strong>i</strong>’、‘<strong>a</strong>’或‘<strong>o</strong>’三键就可进入Insert mode。这时候您就可以开始输入文字了<br><strong>i</strong>: 插入，从目前光标所在之处插入所输入的文字<br><strong>a</strong>: 增加，目前光标所在的下一个字开始输入文字<br><strong>o</strong>: 插入新的一行，从行首开始输入文字<br>Insert的切换→Command mode，按<strong>Esc</strong>键<br>您目前处于Insert mode，您就只能一直打字。假如您发现打错字了，想用光标键往回移动，将该字删除，就要按ESC键转换回Command mode，再删除文字</p>
<p>在Command mode下，可按冒号“<strong>：</strong>”键入入Last line mode，例如：<br>:<strong>w</strong> filename (输入“w filename”，将文章存入指定的文件名filename)<br>:<strong>wq</strong> (输入“wq”，因为进入之时已经指定文件名testfile，所以会写入testfile并离开vi)<br>:<strong>q!</strong> (输入“q!”，强制离开并放弃编辑的文件)</p>
<p><strong>x</strong>：每按一次删除光标所在位置的后面一个字符<br><strong>dd</strong>：删除光标所在行<br><strong>yy</strong>：复制光标所在行<br><strong>u</strong>：假如您误操作一个指令，可以马上按u，回复到上一个操作</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">date  <span class="comment"># 显示时间</span></span><br><span class="line">whoami  <span class="comment"># 显示当前用户名</span></span><br><span class="line">who  <span class="comment"># 目前登录系统的用户信息</span></span><br><span class="line">curl <span class="string">'url'</span> -O --progress  <span class="comment"># 下载文件,-O代表保存文件（如果没有则输出到屏幕）, --progress表示会显示进度条 </span></span><br><span class="line"><span class="comment"># (curl不是linux的默认自行，需自行安装apt install curl)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$SHELL</span>  <span class="comment"># 查看系统使用的是哪种shell</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span>  <span class="comment"># 查看环境变量</span></span><br><span class="line"></span><br><span class="line">xdg-open filename  <span class="comment"># 用默认应用程序打开文件</span></span><br><span class="line"></span><br><span class="line">python run_generation.py | tee vggTrainResult  <span class="comment"># 重定向到文件 </span></span><br><span class="line"></span><br><span class="line">cat /usr/<span class="built_in">local</span>/cuda/version.txt  <span class="comment"># 查看cuda版本</span></span><br><span class="line"></span><br><span class="line">cat /usr/<span class="built_in">local</span>/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2  <span class="comment"># 查看cudnn版本</span></span><br></pre></td></tr></table></figure>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.cnblogs.com/liaohuiqiang/p/7191462.html" target="_blank" rel="noopener">https://www.cnblogs.com/liaohuiqiang/p/7191462.html</a></p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">pangzibo243</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://litianbo243.github.io/2019/08/05/Ubuntu shell 常用指令 指南/">https://litianbo243.github.io/2019/08/05/Ubuntu shell 常用指令 指南/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a><a class="post-meta__tags" href="/tags/常用指令/">常用指令</a><a class="post-meta__tags" href="/tags/shell/">shell</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://raw.githubusercontent.com/litianbo243/litianbo243.github.io/master/images/my_zhifubao_code.png"><div class="post-qr-code__desc">支付宝打赏</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="https://raw.githubusercontent.com/litianbo243/litianbo243.github.io/master/images/my_weixin_code.png"><div class="post-qr-code__desc">微信打赏</div></div></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2019/08/06/ssh 操作指南/"><i class="fa fa-chevron-left">  </i><span>ssh操作指南</span></a></div><div class="next-post pull-right"><a href="/2019/08/05/python 多线程、多进程/"><span>python 多线程、多进程</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://raw.githubusercontent.com/litianbo243/litianbo243.github.io/master/images/chen_sir_1.png)"><div class="layout" id="footer"><div class="copyright">&copy;2019 By pangzibo243</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  CommonHTML: {
    linebreaks: { automatic: true, width: "90% container" }
  },
  "HTML-CSS": { 
    linebreaks: { automatic: true, width: "90% container" }
  },
  "SVG": { 
    linebreaks: { automatic: true, width: "90% container" }
  }
});
</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for (i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});
</script><script src="https://cdn.jsdelivr.net/npm/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>